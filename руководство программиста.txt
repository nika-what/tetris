Структура проекта
main.py: Основной файл приложения, который запускает регистрацию и вход в систему.
tetris.py: Файл с логикой игры Тетрис.
database.py: Файл для работы с базой данных.
База данных
База данных SQLite используется для хранения информации о пользователях.
Таблица users содержит следующие поля:
id: уникальный идентификатор пользователя (INTEGER).
username: имя пользователя (TEXT, уникальное).
password: пароль (TEXT).
score: текущий счет игрока (INTEGER).
Создание базы данных
Функция create_db() создает базу данных и таблицу пользователей при первом запуске приложения.
Регистрация пользователей
Функция registration() отвечает за создание интерфейса для регистрации новых пользователей:
Проверяет, что поля не пустые.
Сохраняет данные в базе данных с помощью SQL-запроса.
Вход пользователей
Функция login() проверяет введенные пользователем данные:
Если данные корректны, пользователь получает доступ к игре.
Если нет — отображается сообщение об ошибке.
Игра Тетрис
Класс TetrisApp содержит логику игры:
Генерация фигур из списка tetris_shapes.
Проверка коллизий и управление движением фигур.
Обработка событий клавиатуры для управления игрой.
Запуск приложения
Функция run_registration() запускает окно регистрации, а функция run_login() — окно входа.